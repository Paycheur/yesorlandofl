jQuery.fn.heroCarousel=function(e){return e=jQuery.extend({animationSpeed:1e3,navigation:!0,easing:"",timeout:5e3,pause:!0,pauseOnNavHover:!0,prevText:"&#9666;",nextText:"&#9656;",css3pieFix:!1,currentClass:"current",onLoad:function(){},onStart:function(){},onComplete:function(){}},e),this.each(function(){function t(){u||c.find(".next a").trigger("click")}function a(t,a){var l=parseFloat(r.position().left),d=parseFloat(r.css("margin-left"));if("previous"===a){t.before(t.clone().addClass("carousel-clone")),r.prepend(t);var c=Math.round(d-childWidth),u="+="}else{t.after(t.clone().addClass("carousel-clone")),r.append(t);var c=s,u="-="}e.css3pieFix&&i(jQuery(".carousel-clone")),r.css({left:l,width:Math.round(o+childWidth),"margin-left":c}).animate({left:u+childWidth},e.animationSpeed,e.easing,function(){r.css({left:"50%",width:o,"margin-left":d}),jQuery(".carousel-clone").remove(),n()})}function i(e){var t=e.attr("_pieId");t&&e.attr("_pieId",t+"_cloned"),e.find("*[_pieId]").each(function(e,t){var a=$(t).attr("_pieId");$(t).attr("_pieId",a+"_cloned")})}function n(){var t=r.children();t.removeClass(e.currentClass).eq(currentItem).addClass(e.currentClass),e.onComplete(r,r.prev(".hero-carousel-nav"),t.eq(currentItem),e)}var r=jQuery(this),l=r.children();if(currentItem=1,childWidth=l.width(),childHeight=l.height(),l.length>2){l.each(function(){e.itemClass&&jQuery(this).addClass(e.itemClass)}),l.filter(":first").addClass(e.currentClass).before(l.filter(":last"));var o=Math.round(childWidth*r.children().length),s="-"+Math.round(childWidth+Math.round(childWidth/2))+"px";r.addClass("hero-carousel-container").css({position:"relative",overflow:"hidden",left:"50%",top:0,"margin-left":s,height:childHeight,width:o}),r.before('<ul class="hero-carousel-nav"><li class="prev"><a href="#">'+e.prevText+'</a></li><li class="next"><a href="#">'+e.nextText+"</a></li></ul>");var d,c=r.prev(".hero-carousel-nav");if(e.timeout>0){var u=!1;e.pause&&r.hover(function(){u=!0},function(){u=!1}),e.pauseOnNavHover&&c.hover(function(){u=!0},function(){u=!1}),d=window.setInterval(t,e.timeout)}c.find("a").data("disabled",!1).click(function(i){i.preventDefault();var n=jQuery(this),l=n.parent().hasClass("prev"),o=r.children();n.data("disabled")===!1&&(e.onStart(r,c,o.eq(currentItem),e),l?a(o.filter(":last"),"previous"):a(o.filter(":first"),"next"),n.data("disabled",!0),setTimeout(function(){n.data("disabled",!1)},e.animationSpeed+200),e.timeout>0&&(window.clearInterval(d),d=window.setInterval(t,e.timeout)))}),e.onLoad(r,c,r.children().eq(currentItem),e)}})};